{"version":3,"sources":["blockly/block/test.ts","blockly/block/player.ts","redux/view/slice.ts","component/MainSideBar.tsx","redux/workspace/slice.ts","blockly/generator/generator.ts","component/BlocklyWorkspace.tsx","component/Code.tsx","component/dialog/SaveDialog.tsx","component/dialog/DeleteDialog.tsx","component/dialog/SwitchDialog.tsx","component/File.tsx","component/AppContent.tsx","App.tsx","redux/middleware.ts","redux/store.ts","index.tsx"],"names":["Blockly","defineBlocksWithJsonArray","viewSlice","createSlice","name","initialState","tab_value","save_open","delete_open","switch_open","reducers","setTabValue","state","action","payload","setSaveOpen","setDeleteOpen","setSwitchOpen","actions","useStyles","makeStyles","theme","createStyles","root","borderRight","palette","divider","height","justifyContent","display","flexDirection","position","top","tab","background","hover","minWidth","socialmedia_icon","width","textAlign","padding","color","text","primary","socailmedias","marginBottom","SocialMedia","props","classes","Link","href","target","rel","className","icon","MainSideBar","value","useSelector","view","dispatch","useDispatch","Tabs","indicatorColor","textColor","onChange","event","orientation","Tab","label","Extension","Description","Folder","GitHub","fontSize","Twitter","selected_file","code","handle_file","createFile","files","workspaceSlice","setCode","saveFile","date","Date","file","getFullYear","toDoubleDigits","getMonth","getDate","getHours","getMinutes","filter","f","id","deleteFile","selectFile","setHandleFile","setFiles","myStrong","strong","getTime","toString","Math","floor","random","getUniqueStr","num","length","spigotGenerator","Generator","block","getFieldValue","gamemode","valueToCode","scrub_","opt_thisOnly","nextBlock","nextConnection","targetBlock","nextCode","blockToCode","blockDiv","BlocklyWorkspace","blocklyDivRef","React","createRef","workspace","useEffect","hidden","current","innerHTML","inject","toolbox","toolboxJson","undefined","dom","Xml","textToDom","domToWorkspace","addChangeListener","workspaceToDom","workspace_text","domToText","workspaceToCode","ref","content","margin","maxWidth","buttons","secondary","marginTop","spacing","borderRadius","Code","Tooltip","title","IconButton","aria-label","FileCopy","clsx","SaveDialog","initailName","useState","setName","open","handleClose","Dialog","onClose","aria-labelledby","fullWidth","DialogTitle","DialogContent","TextField","error","defaultValue","autoFocus","type","DialogActions","Button","onClick","DeleteDialog","aria-describedby","DialogContentText","SwitchDialog","path","component","to","list","backgroundColor","paper","border","shape","paddingTop","paddingBottom","listitem","toolbar","button","success","main","help","alignItems","moodbadIcon","marginRight","FolderList","opening_file","searchWord","setSearchWord","includes","sort","f1","f2","list_items","forEach","push","ListItem","ListItemIcon","InsertDriveFile","ListItemText","Edit","Delete","Divider","pop","noValidate","autoComplete","variant","endIcon","Save","List","MoodBad","Typography","marginLeft","default","AppContent","App","useParams","rawData","localStorage","getItem","JSON","parse","readLocalStorage","find","isValidId","app","localStorageMiddleware","storeApi","next","result","getState","setItem","stringify","store","configureStore","reducer","viewReducer","workspaceReducer","middleware","getDefaultMiddleware","serializableCheck","prepend","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9e32f197.chunk.js","sourcesContent":["import Blockly from 'blockly';\n\nBlockly.defineBlocksWithJsonArray([\n    {\n        \"type\": \"test\",\n        \"lastDummyAlign0\": \"RIGHT\",\n        \"message0\": \"a %1 b\",\n        \"args0\": [\n            {\n                \"type\": \"input_value\",\n                \"name\": \"NAME\",\n                \"check\": \"Player\"\n            }\n        ],\n        \"colour\": 230,\n        \"tooltip\": \"\",\n        \"helpUrl\": \"\"\n    },\n    {\n        \"type\": \"event_player\",\n        \"message0\": \"参加したプレイヤー\",\n        \"output\": \"Player\",\n        \"colour\": 100,\n        \"tooltip\": \"\",\n        \"helpUrl\": \"\"\n    },\n    {\n        \"type\": \"sendmessage\",\n        \"message0\": \"%1 に メッセージ %2 を送る\",\n        \"args0\": [\n            {\n                \"type\": \"input_value\",\n                \"name\": \"player\",\n                \"check\": \"Player\"\n            },\n            {\n                \"type\": \"input_value\",\n                \"name\": \"text\",\n                \"check\": \"String\"\n            }\n        ],\n        \"previousStatement\": null,\n        \"nextStatement\": null,\n        \"colour\": 230,\n        \"tooltip\": \"\",\n        \"helpUrl\": \"\"\n    }\n]);","import Blockly from 'blockly';\n\nBlockly.defineBlocksWithJsonArray([\n    {\n        \"type\": \"set_gamemode\",\n        \"message0\": \"%1 のゲームモードを %2 に変更する\",\n        \"args0\": [\n            {\n                \"type\": \"input_value\",\n                \"name\": \"player\",\n                \"check\": \"Player\"\n            },\n            {\n                \"type\": \"field_dropdown\",\n                \"name\": \"gamemode\",\n                \"options\": [\n                    [\n                        \"クリエイティブ\",\n                        \"CREATIVE\"\n                    ],\n                    [\n                        \"サバイバル\",\n                        \"SURVIVAL\"\n                    ]\n                ]\n            }\n        ],\n        \"previousStatement\": null,\n        \"nextStatement\": null,\n        \"colour\": 0,\n        \"tooltip\": \"\",\n        \"helpUrl\": \"\"\n    },\n    {\n        \"type\": \"get_player\",\n        \"message0\": \"mcid: %1\",\n        \"args0\": [\n            {\n                \"type\": \"field_input\",\n                \"name\": \"mcid\",\n                \"text\": \"\"\n            }\n        ],\n        \"output\": \"Player\",\n        \"colour\": 285,\n        \"tooltip\": \"\",\n        \"helpUrl\": \"\"\n    }\n]);","import {createSlice} from '@reduxjs/toolkit'\n\nexport interface viewState {\n    tab_value: number,\n    save_open: boolean,\n    delete_open: boolean,\n    switch_open: boolean,\n}\n\nconst initialState: viewState = {\n    tab_value: 0,\n    save_open: false,\n    delete_open: false,\n    switch_open: false,\n}\n\nexport const viewSlice = createSlice({\n    name: 'view',\n    initialState,\n    reducers: {\n        setTabValue: (state, action) => {\n            state.tab_value = action.payload;\n        },\n        setSaveOpen: (state, action) => {\n            state.save_open = action.payload;\n        },\n        setDeleteOpen: (state, action) => {\n            state.delete_open = action.payload;\n        },\n        setSwitchOpen: (state, action) => {\n            state.switch_open = action.payload;\n        },\n    },\n})\n\n// Action creators are generated for each case reducer function\nexport const { setTabValue, setDeleteOpen, setSaveOpen, setSwitchOpen } = viewSlice.actions\n\nexport default viewSlice.reducer","import {Link, Tab, Tabs} from \"@material-ui/core\";\nimport {Description, Extension, Folder, GitHub, Twitter} from \"@material-ui/icons\";\nimport React from \"react\";\nimport {createStyles, makeStyles, Theme} from \"@material-ui/core/styles\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {setTabValue} from \"../redux/view/slice\";\nimport {AppDispatch, RootState} from \"../redux/store\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            borderRight: `1px solid ${theme.palette.divider}`,\n            height: \"100vh\",\n            justifyContent: \"space-between\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            position: \"fixed\",\n            top: 0\n        },\n        tab: {\n            \"&:hover\": {\n                background: theme.palette.action.hover\n            },\n            minWidth: \"120px\"\n        },\n        socialmedia_icon: {\n            width: \"100%\",\n            textAlign: \"center\",\n            padding: \"20px 0px\",\n            \"&:hover\": {\n                color: theme.palette.text.primary\n            }\n        },\n        socailmedias: {\n            marginBottom: \"10px\"\n        }\n    }),\n);\n\ninterface SocialMediaProps {\n    href: string,\n    icon: string | React.ReactElement;\n}\n\nfunction SocialMedia(props: SocialMediaProps) {\n    \n    const classes = useStyles();\n    \n    return (\n        <Link href={props.href} color=\"textSecondary\" target=\"_blank\" rel=\"noopener\">\n            <div className={classes.socialmedia_icon}>\n                {props.icon}\n            </div>\n        </Link>\n    )\n}\n\nfunction MainSideBar() {\n\n    const classes = useStyles();\n\n    const value = useSelector<RootState>((state) => state.view.tab_value)\n    const dispatch = useDispatch<AppDispatch>();\n\n    return (\n        <div className={classes.root}>\n            <Tabs\n                value={value}\n                indicatorColor=\"primary\"\n                textColor=\"primary\"\n                onChange={(event, value) => dispatch(setTabValue(value))}\n                orientation=\"vertical\"\n            >\n                <Tab label=\"Block\" icon={<Extension/>} className={classes.tab}/>\n                <Tab label=\"Code\" icon={<Description/>} className={classes.tab}/>\n                <Tab label=\"File\" icon={<Folder/>} className={classes.tab}/>\n            </Tabs>\n            <div className={classes.socailmedias}>\n                <SocialMedia href=\"https://github.com/Gorayan/spigot-blockly\" icon={<GitHub fontSize=\"large\"/>}/>\n                <SocialMedia href=\"https://twitter.com/Gorayan_kun\" icon={<Twitter fontSize=\"large\"/>}/>\n            </div>\n        </div>\n    );\n}\n\nexport default MainSideBar;","import {createSlice, PayloadAction} from '@reduxjs/toolkit'\n\nexport interface FileWorkspace {\n    id: string\n    name: string,\n    date: string,\n    workspace?: string\n}\n\nexport interface workspaceState {\n    code: string\n    selected_file: string\n    handle_file: FileWorkspace\n    files: FileWorkspace[]\n}\n\nconst initialState: workspaceState = {\n    selected_file: \"\",\n    code: \"\",\n    handle_file: createFile(),\n    files: []\n}\n\nexport const workspaceSlice = createSlice({\n    name: 'workspace',\n    initialState,\n    reducers: {\n        setCode: (state, action: PayloadAction<string>) => {\n            state.code = action.payload\n        },\n        saveFile: (state, action: PayloadAction<string>) => {\n            const date = new Date()\n            const file = {\n                ...state.handle_file,\n                date: (date.getFullYear()) + \"/\" + toDoubleDigits(date.getMonth() + 1) + \"/\" + toDoubleDigits(date.getDate()) + \" \" + toDoubleDigits(date.getHours()) + \":\" + toDoubleDigits(date.getMinutes()),\n                name: action.payload\n            }\n            state.files = [...state.files.filter((f) => file.id !== f.id), file]\n            state.handle_file.name = action.payload\n        },\n        deleteFile: (state, action: PayloadAction<string>) => {\n            state.files = state.files.filter((file) => file.id !== action.payload)\n            if (action.payload === state.handle_file.id) {\n                state.handle_file = createFile()\n            }\n        },\n        selectFile: (state, action: PayloadAction<string>) => {\n            state.selected_file = action.payload\n        },\n        setHandleFile: (state, action: PayloadAction<FileWorkspace>) => {\n            state.handle_file = action.payload\n        },\n        setFiles: (state, action: PayloadAction<FileWorkspace[]>) => {\n            state.files = action.payload\n        },\n    },\n})\n\nexport function createFile() {\n    const id = getUniqueStr()\n    const date = new Date()\n    const file: FileWorkspace = {\n        id: id,\n        name: \"\",\n        date: (date.getFullYear()) + \"/\" + toDoubleDigits(date.getMonth() + 1) + \"/\" + toDoubleDigits(date.getDate()) + \" \" + toDoubleDigits(date.getHours()) + \":\" + toDoubleDigits(date.getMinutes()),\n    }\n    return file\n}\n\nfunction getUniqueStr(myStrong?: number): string {\n    let strong = 1000;\n    if (myStrong) strong = myStrong;\n    return (\n        new Date().getTime().toString(16) +\n        Math.floor(strong * Math.random()).toString(16)\n    );\n}\n\nfunction toDoubleDigits(num: any) {\n    num += \"\";\n    if (num.length === 1) {\n        num = \"0\" + num;\n    }\n    return num;\n}\n\nexport const { setCode, saveFile, deleteFile, selectFile, setHandleFile, setFiles } = workspaceSlice.actions\n\nexport default workspaceSlice.reducer","import {Generator} from \"blockly\";\n\ninterface SpigotGenerator extends Generator{\n    get_player?: any,\n    text?: any,\n    set_gamemode?: any,\n    sendmessage?: any\n}\n\nexport const spigotGenerator: SpigotGenerator = new Generator(\"spigot-api\");\n\nspigotGenerator[\"get_player\"] = function(block: any) {\n    const text_mcid = block.getFieldValue('mcid');\n    const code = \"Bukkit.getPlayer(\\\"\"+ text_mcid +\"\\\")\";\n    return [code, 0];\n}\n\nspigotGenerator[\"text\"] = function(block: any) {\n    let code = block.getFieldValue('TEXT');\n    return [\"\\\"\" + code + \"\\\"\", 0];\n};\n\nspigotGenerator[\"set_gamemode\"] = function(block: any) {\n    const gamemode = block.getFieldValue('gamemode');\n    const player = spigotGenerator.valueToCode(block, \"player\", 0);\n    let code = player + \".setGameMode(GameMode.\" + gamemode + \");\";\n    return code;\n};\n\nspigotGenerator[\"sendmessage\"] = function(block: any) {\n    const player = spigotGenerator.valueToCode(block, \"player\", 0);\n    const text = spigotGenerator.valueToCode(block, \"text\", 0);\n    let code = player + \".sendMessage(\" + text + \");\";\n    return code;\n};\n\nspigotGenerator.scrub_ = function(block: any, code: string, opt_thisOnly: any) {\n    const nextBlock =\n        block.nextConnection && block.nextConnection.targetBlock();\n    let nextCode = '';\n    if (nextBlock) {\n        nextCode =\n            opt_thisOnly ? '' : '\\n' + spigotGenerator.blockToCode(nextBlock);\n    }\n    return code + nextCode;\n};\n","import React, {useEffect} from \"react\";\nimport toolboxJson from \"../resource/test.json\"\nimport Blockly, {WorkspaceSvg} from \"blockly\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppDispatch, RootState} from \"../redux/store\";\nimport {FileWorkspace, setCode, setHandleFile} from \"../redux/workspace/slice\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\nimport {spigotGenerator} from \"../blockly/generator/generator\";\n\ninterface Props {\n    hidden: boolean\n}\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        blockDiv: {\n            width: \"100%\",\n            height: \"100%\"\n        }\n    }),\n);\n\nfunction BlocklyWorkspace(props: Props) {\n\n    const classes = useStyles()\n\n    const blocklyDivRef: React.RefObject<HTMLDivElement> = React.createRef();\n\n    const file = useSelector<RootState, FileWorkspace>(state => state.workspace.handle_file)\n\n    const dispatch = useDispatch<AppDispatch>();\n\n    useEffect(() => {\n\n        if (props.hidden) {\n            return\n        }\n\n        if (blocklyDivRef.current === null) {\n            return\n        }\n\n        blocklyDivRef.current.innerHTML = \"\"\n\n        const workspace: WorkspaceSvg = Blockly.inject(blocklyDivRef.current, {\n            toolbox: toolboxJson as Blockly.utils.toolbox.ToolboxDefinition\n        })\n\n        if (file.workspace !== undefined) {\n            const dom = Blockly.Xml.textToDom(file.workspace)\n            Blockly.Xml.domToWorkspace(dom, workspace)\n        }\n\n        workspace.addChangeListener(() => {\n            const dom = Blockly.Xml.workspaceToDom(workspace)\n            const workspace_text = Blockly.Xml.domToText(dom)\n            dispatch(setHandleFile({...file, workspace: workspace_text}))\n            const code = spigotGenerator.workspaceToCode(workspace)\n            dispatch(setCode(code))\n        })\n\n    }, [file.id, props.hidden])\n\n    return (\n        <div ref={blocklyDivRef} className={classes.blockDiv} hidden={props.hidden} />\n    );\n}\n\nexport default BlocklyWorkspace;","import {IconButton, Tooltip} from \"@material-ui/core\"\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\"\nimport Highlight from 'react-highlight'\nimport \"highlight.js/styles/a11y-dark.css\"\nimport clsx from 'clsx';\nimport {FileCopy} from \"@material-ui/icons\";\nimport CopyToClipboard from \"react-copy-to-clipboard\";\nimport {useSelector} from \"react-redux\";\nimport {RootState} from \"../redux/store\";\n\ninterface Props {\n    hidden: boolean\n}\n\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n        content: {\n            margin: \"auto\",\n            maxWidth: \"720px\",\n        },\n        buttons: {\n            display: \"flex\",\n            color: theme.palette.text.secondary,\n            marginTop: theme.spacing(2),\n            flexDirection: \"row-reverse\"\n        },\n        code: {\n            borderRadius: \"4px\"\n        }\n    }),\n);\n\nfunction Code(props: Props) {\n\n    const classes = useStyles();\n\n    const code = useSelector<RootState, string>((state) => state.workspace.code)\n\n    return (\n        <div className={classes.content} hidden={props.hidden}>\n            <div className={classes.buttons}>\n                <CopyToClipboard text={code}>\n                    <Tooltip title=\"Copy\">\n                        <IconButton aria-label=\"delete\">\n                            <FileCopy/>\n                        </IconButton>\n                    </Tooltip>\n                </CopyToClipboard>\n            </div>\n            <Highlight className={clsx(\"java\", classes.code)}>\n                {code}\n            </Highlight>\n        </div>\n    )\n}\n\nexport default Code;","import {Button, Dialog, DialogActions, DialogContent, DialogTitle, TextField} from \"@material-ui/core\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppDispatch, RootState} from \"../../redux/store\";\nimport {setSaveOpen} from \"../../redux/view/slice\";\nimport {saveFile} from \"../../redux/workspace/slice\";\nimport {useEffect, useState} from \"react\";\n\nexport default function SaveDialog() {\n\n    const initailName = useSelector<RootState, string>(state => state.workspace.handle_file.name)\n    const [name, setName] = useState<string>(\"\")\n\n    useEffect(() => {\n        setName(initailName);\n    }, [initailName])\n\n    const open = useSelector<RootState, boolean>((state) => state.view.save_open)\n    const dispatch = useDispatch<AppDispatch>();\n\n    const handleClose = () => {\n        dispatch(setSaveOpen(false))\n    }\n\n    return (\n        <Dialog open={open} onClose={handleClose} aria-labelledby={\"form-dialog-save\"} fullWidth={true}>\n            <DialogTitle id={\"form-dialog-save\"}>ワークスペースを保存</DialogTitle>\n            <DialogContent>\n                <TextField\n                    error={name === \"\"}\n                    defaultValue={initailName}\n                    autoFocus\n                    margin=\"dense\"\n                    id=\"name\"\n                    label={name === \"\" ? \"Error\" : \"Name\"}\n                    type=\"text\"\n                    fullWidth\n                    onChange={(event) => {\n                        setName(event.target.value)\n                    }}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button\n                    onClick={() => {\n                        if (name === \"\") {\n                            return\n                        }\n                        handleClose()\n                        dispatch(saveFile(name))\n                    }}\n                    color=\"primary\">\n                    Save\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}","import {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@material-ui/core\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppDispatch, RootState} from \"../../redux/store\";\nimport {setDeleteOpen} from \"../../redux/view/slice\";\nimport {deleteFile} from \"../../redux/workspace/slice\";\n\nexport default function DeleteDialog() {\n\n    const selected_file = useSelector<RootState, string>(state => state.workspace.selected_file)\n    const open = useSelector<RootState, boolean>((state) => state.view.delete_open)\n    const dispatch = useDispatch<AppDispatch>();\n\n    const handleClose = () => {\n        dispatch(setDeleteOpen(false))\n    }\n\n    return (\n        <Dialog open={open} onClose={handleClose} fullWidth={true} aria-labelledby={\"delete-dialog-title\"} aria-describedby={\"alert-dialog-description\"}>\n            <DialogTitle id={\"delete-dialog-title\"}>本当に削除しますか？</DialogTitle>\n            <DialogContent>\n                <DialogContentText id={\"alert-dialog-description\"}>\n                    削除すると元に戻せません\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button\n                    onClick={() => {\n                        handleClose()\n                        dispatch(deleteFile(selected_file))\n                    }}\n                    color=\"secondary\">\n                    Delete\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}","import {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from \"@material-ui/core\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppDispatch, RootState} from \"../../redux/store\";\nimport {setSwitchOpen} from \"../../redux/view/slice\";\nimport {Link} from \"react-router-dom\";\n\nexport default function SwitchDialog() {\n\n    const selected_file = useSelector<RootState, string>(state => state.workspace.selected_file)\n    const open = useSelector<RootState, boolean>((state) => state.view.switch_open)\n    const dispatch = useDispatch<AppDispatch>();\n\n    const handleClose = () => {\n        dispatch(setSwitchOpen(false))\n    }\n\n    const path = \"/\" + selected_file\n\n    return (\n        <Dialog open={open} onClose={handleClose} fullWidth={true} aria-labelledby={\"delete-dialog-title\"} aria-describedby={\"delete-dialog-description\"}>\n            <DialogTitle id={\"delete-dialog-title\"}>ワークスペースを変更</DialogTitle>\n            <DialogContent>\n                <DialogContentText id={\"delete-dialog-description\"}>\n                    保存していない場合、変更内容は破棄されます\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button component={Link} to={path} color=\"primary\" onClick={handleClose}>\n                    Switch\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}","import {\n    Button,\n    createStyles,\n    Divider,\n    IconButton,\n    List,\n    ListItem,\n    ListItemIcon,\n    ListItemText,\n    makeStyles,\n    TextField,\n    Theme,\n    Typography\n} from \"@material-ui/core\";\nimport {Delete, Edit, InsertDriveFile, MoodBad, Save} from \"@material-ui/icons\";\nimport SaveDialog from \"./dialog/SaveDialog\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppDispatch, RootState} from \"../redux/store\";\nimport {setDeleteOpen, setSaveOpen, setSwitchOpen} from \"../redux/view/slice\";\nimport DeleteDialog from \"./dialog/DeleteDialog\";\nimport {createFile, FileWorkspace, saveFile, selectFile, setHandleFile} from \"../redux/workspace/slice\";\nimport {useState} from \"react\";\nimport SwitchDialog from \"./dialog/SwitchDialog\";\nimport {Link} from \"react-router-dom\";\n\ninterface Props {\n    hidden: boolean\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        content: {\n            maxWidth: '720px',\n            margin: \"auto\",\n        },\n        list: {\n            backgroundColor: theme.palette.background.paper,\n            border: `1px solid ${theme.palette.divider}`,\n            borderRadius: theme.shape.borderRadius,\n        },\n        root: {\n            \"& .MuiList-padding\": {\n                paddingTop: 0,\n                paddingBottom: 0\n            },\n        },\n        listitem: {\n            \"&:hover\": {\n                background: theme.palette.action.hover\n            }\n        },\n        toolbar: {\n            display: \"flex\",\n            justifyContent: \"space-between\",\n            marginTop: theme.spacing(2),\n            marginBottom: theme.spacing(2)\n        },\n        button: {\n            margin: theme.spacing(1)\n        },\n        buttons: {\n            color: theme.palette.success.main\n        },\n        help: {\n            display: \"flex\",\n            alignItems: \"center\",\n            color: theme.palette.text.secondary,\n            justifyContent: \"center\",\n            marginTop: theme.spacing(4)\n        },\n        moodbadIcon: {\n            marginRight: theme.spacing(3),\n        },\n    }),\n);\n\nexport default function FolderList(props: Props) {\n    const classes = useStyles()\n\n    const opening_file = useSelector<RootState, FileWorkspace>(state => state.workspace.handle_file)\n    const [searchWord, setSearchWord] = useState(\"\")\n    const files = [...useSelector<RootState, FileWorkspace[]>(state => state.workspace.files.filter(f => f.name.includes(searchWord)))]\n\n    files.sort((f1, f2) => {\n        if (f1.date < f2.date) {\n            return 1\n        } else if (f1.date > f2.date) {\n            return -1\n        } else {\n            return 0\n        }\n    })\n    const dispatch = useDispatch<AppDispatch>()\n\n    const list_items: any[] = []\n\n    files.forEach(value => {\n        list_items.push(\n            <ListItem className={classes.listitem} key={value.id}>\n                <ListItemIcon>\n                    <InsertDriveFile />\n                </ListItemIcon>\n                <ListItemText primary={value.name} secondary={value.date} />\n                <ListItemText secondary={opening_file.id === value.id ? \"(current)\" : \"\"} />\n                <IconButton\n                    aria-label=\"edit\"\n                    onClick={() => {\n                        dispatch(selectFile(value.id))\n                        dispatch(setSwitchOpen(true))\n                    }}>\n                    <Edit />\n                </IconButton>\n                <IconButton\n                    aria-label=\"delete\"\n                    onClick={() => {\n                        dispatch(selectFile(value.id))\n                        dispatch(setDeleteOpen(true))\n                    }}>\n                    <Delete />\n                </IconButton>\n            </ListItem>\n        )\n        list_items.push(<Divider key={value.id + \"_divider\"}/>)\n    })\n\n    list_items.pop()\n\n    return (\n        <div className={classes.root} hidden={props.hidden}>\n            <div className={classes.content}>\n                <div className={classes.toolbar}>\n                    <form noValidate autoComplete=\"off\">\n                        <TextField id=\"standard-search\" label=\"Search\" type=\"search\" onChange={(event) => setSearchWord(event.target.value)} />\n                    </form>\n                    <div className={classes.buttons}>\n                        <Button variant=\"outlined\" color=\"inherit\" className={classes.button} component={Link} to={\"/create\"}\n                                onClick={() => {\n                                    dispatch(setHandleFile(createFile()))\n                                    dispatch(saveFile(\"new file\"))\n                                }}>\n                            Create\n                        </Button>\n                        <Button variant=\"outlined\" endIcon={<Save/>} color=\"primary\" className={classes.button} onClick={() => dispatch(setSaveOpen(true))}>Save</Button>\n                    </div>\n                </div>\n                <List className={classes.list} hidden={files.length === 0}>\n                    {list_items}\n                </List>\n                <div hidden={files.length !== 0}>\n                    <div className={classes.help}>\n                        <MoodBad className={classes.moodbadIcon} />\n                        <Typography variant=\"h5\">\n                            No Files\n                        </Typography>\n                    </div>\n                </div>\n            </div>\n            <SaveDialog />\n            <DeleteDialog />\n            <SwitchDialog />\n        </div>\n    );\n}","import BlocklyWorkspace from \"./BlocklyWorkspace\";\nimport Code from \"./Code\";\nimport File from \"./File\";\nimport React from \"react\";\nimport {useSelector} from \"react-redux\";\nimport {RootState} from \"../redux/store\";\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles((theme) =>\n    createStyles({\n        root: {\n            width: \"calc(100vw - 120px)\",\n            height: \"100vh\",\n            marginLeft: \"120px\",\n            background: theme.palette.background.default\n        }\n    }),\n);\n\nexport default function AppContent() {\n\n    const classes = useStyles()\n\n    const value = useSelector<RootState>((state) => state.view.tab_value)\n\n    return (\n        <div className={classes.root}>\n            <BlocklyWorkspace hidden={value !== 0}/>\n            <Code hidden={value !== 1}/>\n            <File hidden={value !== 2}/>\n        </div>\n    )\n}","import React, {useEffect} from 'react'\nimport \"./blockly/block/test\"\nimport \"./blockly/block/player\"\nimport {createStyles, makeStyles} from \"@material-ui/core/styles\"\nimport MainSideBar from \"./component/MainSideBar\"\nimport {useDispatch} from \"react-redux\"\nimport {AppDispatch} from \"./redux/store\"\nimport {Redirect, useParams} from \"react-router-dom\";\nimport {FileWorkspace, setFiles, setHandleFile} from \"./redux/workspace/slice\";\nimport AppContent from \"./component/AppContent\";\n\nconst useStyles = makeStyles(() =>\n    createStyles({\n        root: {\n            display: \"flex\"\n        }\n    }),\n);\n\nfunction readLocalStorage() {\n    const rawData = localStorage.getItem(\"files\")\n    let files: FileWorkspace[] = []\n    if (rawData !== null) {\n        files = JSON.parse(rawData) as FileWorkspace[]\n    }\n    return files\n}\n\nfunction App() {\n\n    const param = useParams() as {id: string}\n    let id = param.id\n\n    const files = readLocalStorage()\n    const handle_file = files.find(f => f.id === id)\n\n    const dispatch = useDispatch<AppDispatch>()\n\n    const isValidId = files.find(f => f.id === id) !== undefined\n\n    useEffect(() => {\n        dispatch(setFiles(files))\n        if (handle_file !== undefined) {\n            dispatch(setHandleFile(handle_file))\n        }\n    })\n\n    const classes = useStyles();\n\n    const app = <div className={classes.root}>\n                    <MainSideBar/>\n                    <AppContent/>\n                </div>\n\n    return isValidId || id === \"create\" ? app : <Redirect to={\"/\"} />\n}\n\nexport default App;\n","import {Middleware} from \"@reduxjs/toolkit\";\nimport {RootState} from \"./store\";\n\nexport const localStorageMiddleware: Middleware<\n    {}, // Most middleware do not modify the dispatch return value\n    RootState\n    > = storeApi => next => action => {\n\n    let result = next(action)\n\n    const state = storeApi.getState()\n\n    localStorage.setItem(\"files\", JSON.stringify(state.workspace.files))\n\n    return result\n}","import {configureStore} from \"@reduxjs/toolkit\";\nimport viewReducer, {viewState} from \"./view/slice\";\nimport workspaceReducer, {workspaceState} from \"./workspace/slice\";\nimport {localStorageMiddleware} from \"./middleware\";\n\nexport const store = configureStore({\n    reducer: {\n        view: viewReducer,\n        workspace: workspaceReducer,\n    },\n    middleware: (getDefaultMiddleware => {\n        return getDefaultMiddleware({\n            serializableCheck: false,\n        }).prepend(localStorageMiddleware)\n    })\n})\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport interface RootState {\n    view: viewState,\n    workspace: workspaceState\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./redux/store\";\nimport {BrowserRouter, Redirect, Route} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <BrowserRouter>\n                <Route path=\"/:id\" component={App} />\n                <Route path=\"/\" >\n                    <Redirect to={\"/create\"}/>\n                </Route>\n            </BrowserRouter>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n"],"sourceRoot":""}